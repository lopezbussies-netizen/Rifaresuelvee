<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RifaResuelve ‚Äî Rifa Oficial</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
<style>
:root{
  --azul:#0b2c5d;
  --azul2:#123c7a;
  --amarillo:#ffc400;
  --blanco:#ffffff;
  --gris:#f2f2f2;
}
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;margin:0;padding:0;}
body{background:var(--azul);color:var(--blanco);}

header{
  background:linear-gradient(135deg,var(--azul),var(--azul2));
  padding:20px 15px;
  position:relative;
  display:flex;
  flex-direction:column;
  align-items:center;
}

header img.logo{
  max-width:60px;
  position:absolute;
  top:15px;
  left:15px;
}

header h1{
  margin:0;
  font-size:28px;
  font-weight:bold;
  text-align:center;
  margin-top:12px;
}

header h2{
  margin:5px 0 0 0;
  font-size:18px;
  font-weight:normal;
  text-align:center;
}

header .social-icons{
  position:absolute;
  top:15px;
  right:15px;
}
header .social-icons a{
  color:var(--amarillo);
  font-size:28px;
  margin-left:10px;
  text-decoration:none;
}
header .social-icons a:hover{opacity:.8;}

header .btn-main{
  background:var(--amarillo);
  color:#000;
  padding:12px 25px;
  border:none;
  border-radius:8px;
  font-size:18px;
  font-weight:bold;
  cursor:pointer;
  margin-top:10px;
  width:100%;
  max-width:250px;
}

.section{padding:20px 15px;}
.card{
  background:var(--blanco);
  color:#000;
  border-radius:12px;
  padding:15px;
  max-width:480px;
  margin:20px auto;
  text-align:center;
}
.card img{width:100%;border-radius:10px;}

input,select{width:100%;padding:12px;margin:8px 0;border-radius:6px;border:1px solid #ccc;}

.total{font-weight:bold;margin:10px 0;}

.pay-btn{width:100%;padding:14px;margin:8px 0;border:none;border-radius:8px;font-size:16px;font-weight:bold;cursor:pointer;}
.yape{background:#7b1fa2;color:#fff;}
.pm{background:var(--azul);color:#fff;}

.pay-box{
  display:none;
  background:var(--gris);
  padding:10px;
  border-radius:8px;
  font-size:14px;
  text-align:left;
}

.pay-box small{
  display:block;
  margin-top:8px;
  color:#333;
  font-weight:bold;
  border:1px solid #ffc400;
  background:#fffbe0;
  padding:8px;
  border-radius:6px;
}

.progress{background:#ddd;border-radius:20px;overflow:hidden;margin:10px 0;}
.progress span{display:block;height:12px;width:0%;background:var(--amarillo);}

.btn-whatsapp{
  background:var(--amarillo);
  color:#000;
  padding:12px 25px;
  border:none;
  border-radius:8px;
  font-size:18px;
  font-weight:bold;
  cursor:pointer;
  width:100%;
  margin-top:10px;
}
.btn-whatsapp:hover{opacity:0.9;}

footer{text-align:center;padding:15px;background:#061a36;font-size:14px;}

.whatsapp{
  position:fixed;bottom:20px;right:20px;
  background:#25d366;color:#fff;
  width:55px;height:55px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;font-size:28px;
  text-decoration:none;
}

/* Fix clicks Instagram y Facebook */
header .social-icons,
header .social-icons a{
  pointer-events: auto;
  z-index: 9999;
}

header h1,
header h2,
header .btn-main{
  pointer-events: none;
}

/* Ajuste para m√≥viles */
@media (max-width:600px){
  header img.logo{
    max-width:50px;
  }
  header h1{
    font-size:22px;
    margin-top:10px;
  }
  header h2{
    font-size:16px;
  }
  header .btn-main{
    max-width:200px;
  }
}
</style>
</head>
<body>

<header>
  <img src="https://iili.io/flv7wJI.png" alt="RifaResuelve" class="logo">
  <h1>RifaResuelve</h1>
  <h2>¬°Participa y gana con RifaResuelve!</h2>
  <div class="social-icons">
    <a href="https://www.instagram.com/rifaresuelvee/" target="_blank" rel="noopener">
      <i class="fab fa-instagram"></i>
    </a>
    <a href="https://www.facebook.com/profile.php?id=61583487818315" target="_blank" rel="noopener">
      <i class="fab fa-facebook"></i>
    </a>
  </div>
  <button class="btn-main" onclick="document.getElementById('formulario').scrollIntoView({behavior:'smooth'})">Comprar</button>
</header>

<section class="section card">
  <img src="https://iili.io/fleSinj.png" alt="Flyer RifaResuelve">
  <div class="progress"><span id="barra"></span></div>
  <small id="porcentaje">0% vendidos</small>
</section>

<section class="section card" id="formulario">
  <label>Selecciona tu pa√≠s</label>
  <select id="pais" onchange="calcular()">
    <option value="">Selecciona</option>
    <option value="venezuela">Venezuela</option>
    <option value="peru">Per√∫</option>
  </select>

  <label>Cantidad de tickets</label>
  <select id="cantidad" onchange="calcular()">
    <option value="1">1</option><option value="2">2</option><option value="3">3</option>
    <option value="4">4</option><option value="5">5</option><option value="6">6</option>
    <option value="7">7</option><option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option><option value="12">12</option>
    <option value="13">13</option><option value="14">14</option>
    <option value="15">15</option><option value="16">16</option>
    <option value="17">17</option><option value="18">18</option>
    <option value="19">19</option><option value="20">20</option>
    <option value="21">21</option><option value="22">22</option>
    <option value="23">23</option><option value="24">24</option>
    <option value="25">25</option>
  </select>

  <input type="text" placeholder="Nombre y apellido" id="nombre">
  <input type="text" placeholder="C√©dula / DNI" id="dni">
  <input type="tel" placeholder="Tel√©fono" id="telefono">
  <input type="text" placeholder="Ingresa tu n√∫mero de referencia del pago" id="referencia">

  <button class="pay-btn yape" onclick="mostrar('yape')">Yape</button>
  <div class="pay-box" id="yape">
    üì≤ Yape<br>
    N√∫mero: +51 916 859 731<br>
    Titular: Angemar L√≥pez
    <small>‚ö†Ô∏è ATENCI√ìN: Por favor, suba una captura de pantalla completa del voucher de Pago M√≥vil o Yape. No recorte ni edite la imagen, ya que cualquier modificaci√≥n invalida la compra. Verifique que el monto coincida antes de enviar.</small>
  </div>

  <button class="pay-btn pm" onclick="mostrar('pm')">Pago M√≥vil</button>
  <div class="pay-box" id="pm">
    üì± Pago M√≥vil<br>
    C√©dula: 14487488<br>
    Tel√©fono: 0414-9910065<br>
    Banco: 0134 Banesco
    <small>‚ö†Ô∏è ATENCI√ìN: Por favor, suba una captura de pantalla completa del voucher de Pago M√≥vil o Yape. No recorte ni edite la imagen, ya que cualquier modificaci√≥n invalida la compra. Verifique que el monto coincida antes de enviar.</small>
  </div>

  <div class="total">Total a pagar: <span id="total">0</span></div>

  <button class="btn-whatsapp" onclick="enviarWhatsApp()">Comprar y enviar por WhatsApp</button>
</section>

<footer>
  ¬© RifaResuelve ‚Äî Todos los derechos reservados
</footer>

<a class="whatsapp" href="https://wa.me/584127962015" target="_blank">
  <i class="fab fa-whatsapp"></i>
</a>

<script>
const ticketsTotales = 600;
let ticketsVendidos = 0;

function mostrar(id){
  document.getElementById("yape").style.display="none";
  document.getElementById("pm").style.display="none";
  document.getElementById(id).style.display="block";
}

function mostrarMetodoPorPais(pais){
  if(pais === "venezuela") mostrar("pm");
  else if(pais === "peru") mostrar("yape");
}

function calcular(){
  const pais = document.getElementById("pais").value;
  const cantidad = parseInt(document.getElementById("cantidad").value);

  let precio = 0;
  let moneda = "";

  if(pais === "venezuela"){
    precio = 200;
    moneda = "Bs";
  } else if(pais === "peru"){
    precio = 6;
    moneda = "soles";
  }

  document.getElementById("total").innerText = precio * cantidad + " " + moneda;
  mostrarMetodoPorPais(pais);

  const porcentaje = ((ticketsVendidos / ticketsTotales) * 100).toFixed(2);
  document.getElementById("barra").style.width = porcentaje + "%";
  document.getElementById("porcentaje").innerText = porcentaje + "% vendidos";
}

function enviarWhatsApp(){
  const nombre = document.getElementById("nombre").value.trim();
  const dni = document.getElementById("dni").value.trim();
  const telefono = document.getElementById("telefono").value.trim();
  const referencia = document.getElementById("referencia").value.trim();
  const pais = document.getElementById("pais").value;
  const cantidad = document.getElementById("cantidad").value;

  if(!nombre || !dni || !telefono || !referencia || !pais){
    alert("Por favor completa todos los campos incluyendo n√∫mero de referencia.");
    return;
  }

  let metodo = pais === "peru" ? "Yape" : "Pago M√≥vil";
  let precio = pais === "peru" ? 6 : 200;
  let moneda = pais === "peru" ? "soles" : "Bs";
  const total = precio * cantidad;

  const mensaje = `Hola, compr√© ${cantidad} ticket(s) de RifaResuelve
Nombre: ${nombre}
C√©dula/DNI: ${dni}
Tel√©fono: ${telefono}
Pa√≠s: ${pais}
M√©todo de pago: ${metodo}
Monto: ${total} ${moneda}
N√∫mero de referencia: ${referencia}`;

  window.open("https://wa.me/584127962015?text=" + encodeURIComponent(mensaje), "_blank");

  ticketsVendidos += parseInt(cantidad);
  calcular();
}

// Inicializa total y barra
calcular();
</script>

</body>
</html>
